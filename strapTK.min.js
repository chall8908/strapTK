/*
 * Strap'd ToolKit v 0.6.2
 * Authored by Chris Hall
 * Copyright 2013 to Pangea Real Estate
 * Under a Creative Commons Attribution-ShareAlike 3.0 Unported License
 */
function Extend(e,i,t){var n;n=i&&_.has(i,"constructor")?i.constructor:function(){return e.apply(this,arguments)},_.extend(n,e,t);var s=function(){this.constructor=n};return s.prototype=e.prototype,n.prototype=new s,i&&_.extend(n.prototype,i),n.__super__=e.prototype,n}function Base(e,i){var t=e||{},n=i||{};for(attr in t)this[attr]=t[attr];this.initialize(n)}function Typify(e,i){i=_.extend({},Typify.defaults,i),e.setType=function(e){if(this.type&&(this.removeClass(this.base+"-"+this.type),delete this.type),e){if(!_.include(this.constructor.types,e))throw new RangeError("Invalid type - "+e);this.type=e,this.addClass(this.base+"-"+e)}},e.setDefaultValue.call(e.constructor,i.types,"types"),e.setDefaultValue(i.base,"base"),e.setDefaultValue(i.type,"type"),e.base&&e.addClass(e.base),e.type&&e.setType(e.type)}function HorizontalRule(){this.klass="HorizontalRule"}function LineBreak(){this.klass="LineBreak"}function Raw(e){this.body=e.body||e,this.klass="Raw"}var strap=function(){var e=function(i){var t="undefined"!=typeof i.tag&&"string"==typeof i.tag,n=t?new Panel(i):new Component(i);return t&&(n.template=e.generateSimpleTemplate(i.tag)),n};return e.build=function(e){function i(e){var t,n=e.klass,s=e.children;return delete e.klass,delete e.children,t=new window[n](e),t.type&&!t.setType&&Typify(t),s&&_.isArray(s)&&s.length&&_(s).each(function(e){t.add(i(e))}),t}if("string"==typeof e&&(e=JSON.parse(e)),_.isArray(e)){var t=[];return _.each(e,function(e){t.push(i(e))}),t}return i(e)},e.generateSimpleTemplate=function(e){return _.template("<"+e+" <%= rootAttrs %>><%= yield %></"+e+">")},e}();Base.extend=function(e,i){return Extend(this,e,i)};var Component=Base.extend({constructor:function(e,i){_.isArray(e)&&(e={children:e}),Component.__super__.constructor.call(this,e,i)},initialize:function(){this.setDefaultValue([],"children"),_.each(this.children,this.checkIfRenderable),this.setDefaultValue("","childPrefix","childSuffix"),this.klass=this.constructor.klass,$(this).on("after-render",function(e,i,t){var n=t||i;_.each(i.children,function(i){$(i).trigger(e,[i,n])})})},setDefaultValue:function(e){var i=Array.prototype.slice.call(arguments,1),t=_.isArray(e)?"apply":"call",n=_.isFunction(e);_.each(i,function(i){this.hasOwnProperty(i)||(this[i]=n?e:e.constructor[t](this,e))},this)},template:function(e){return e.yield},push:function(e){return this.checkIfRenderable(e),this.children.push(e),this},pop:function(){return this.children.pop()},unshift:function(e){return this.checkIfRenderable(e),this.children.unshift(e),this},shift:function(){return this.children.shift()},insert:function(e,i){return this.checkIfRenderable(e),i?this.children.splice(i,0,e):this.children.push(e),this},get:function(e){switch(typeof e){case"string":return this[e];case"number":return this.children[e]}throw TypeError("index must be a string or number.")},remove:function(e){return e?this.children.splice(e,1)[0]:this.pop()},flush:function(){var e=this.children;return this.children=[],e},checkIfRenderable:function(e){if(e.klass&&!e.render&&(e=strap.build(e)),"function"!=typeof e.render)throw TypeError("Object does not respond to render.")},renderChildren:function(e,i){e||(e=this.childPrefix),i||(i=this.childSuffix);var t="";return _.each(this.children,function(n){t+=e+n.render()+i}),t},renderHash:function(){return{yield:this.renderChildren()}},render:function(){return this.template(this.renderHash())},toString:function(e){return e?JSON.stringify(this):this.render()},clone:function(){return strap.build(this.toString(!0))}},{klass:"Component"});Component.prototype.add=Component.prototype.push;var Panel=Component.extend({constructor:function(e,i){"string"==typeof e&&(e={body:e}),Panel.__super__.constructor.call(this,e,i)},initialize:function(e){Panel.__super__.initialize.call(this,e),this.setDefaultValue([],"classes","attributes"),this.setDefaultValue("","id","body"),_.each(["classes","attributes"],function(e){"string"==typeof this[e]&&(this[e]=_.uniq(this[e].split(" ")))},this)},el:function(){return this.id?$("#"+this.id):void 0},addClass:function(){var e=Array.prototype.slice.call(arguments,0);return this.classes=_.union(this.classes,e),this},removeClass:function(){var e=[this.classes].concat(Array.prototype.slice.call(arguments,0));return this.classes=_.without.apply(this,e),this},toggleClass:function(){var e=Array.prototype.slice.call(arguments,0),i=_.intersection(this.classes,e);return this.classes=_.without(_.union(this.classes,e),i),this},listClasses:function(){return this.classes.join(" ")},listAttributes:function(){var e=Array.prototype.slice.call(arguments,0).concat(["id"]),i=this.attributes,t=this.listClasses(),n=_(e).map(function(e){return""===this[e]||"undefined"==typeof this[e]?!1:e+"='"+this[e]+"'"},this).compact().value();return""!==t&&n.push("class='"+t+"'"),_.isObject(i)&&!_.isArray(i)&&(i.data&&_.isObject(i)&&(_.each(i.data,function(e,t){i["data-"+t]=e}),delete i.data),i=_.map(i,function(e,i){return i+"='"+e+"'"})),_.union(i,n).join(" ")},template:strap.generateSimpleTemplate("div"),renderHash:function(){return{yield:this.body+this.renderChildren(),rootAttrs:this.listAttributes()}},render:function(e){var i=Panel.__super__.render.call(this);return e&&this.id&&$("#"+this.id).html(i).add(this).trigger("after-render",[this]),i}},{klass:"Panel"}),Div=Panel;Typify.defaults={types:[""],base:"",type:""};var AbstractBadge=Panel.extend({initialize:function(e){AbstractBadge.__super__.initialize.call(this,e),Typify(this)},template:strap.generateSimpleTemplate("span")},{klass:"AbstractBadge",types:["success","warning","important","info","inverse"]}),Accordion=Panel.extend({initialize:function(e){Accordion.__super__.initialize.call(this,e),this.addClass("accordion")},renderChildren:function(){var e="";return _.each(this.children,function(i,t){var n=this.id+"-"+t,s=i.heading;s&&s.render&&(s=s.render()),e+="<div class='accordion-group'><div class='accordion-heading'><a class='accordion-toggle' data-parent='#"+this.id+"' data-toggle='collapse' href='#"+n+"'>"+s+"</a>"+"</div>"+"<div class='accordion-body collapse"+(i.open?" in":"")+"' id='"+n+"'>"+"<div class='accordion-inner'>"+i.render()+"</div>"+"</div>"+"</div>"},this),e}},{klass:"Accordion"}),Alert=Panel.extend({initialize:function(e){Alert.__super__.initialize.call(this,e),this.base="alert",Typify(this)},isBlock:function(e){var i=_.include(this.classes,"alert-block");if(e===!0)i||this.addClass("alert-block");else{if(e!==!1)return i;i&&this.removeClass("alert-block")}},setClosable:function(e){var i=!1,t=-1;_.each(this.children,function(e,n){return e instanceof CloseButton?(i=!0,t=n,!1):void 0}),e===!0||"boolean"!=typeof e?(i===!1&&this.unshift(new CloseButton({attributes:["data-dismiss='alert'"]})),this.closable=!0):i&&this.remove(t)}},{klass:"Alert",types:["error","success","info"]}),Badge=AbstractBadge.extend({initialize:function(e){this.base="badge",Badge.__super__.initialize.call(this,e)}},{klass:"Badge"}),Breadcrumbs=Panel.extend({initialize:function(e){Breadcrumbs.__super__.initialize.call(this,e),this.childPrefix||(this.childPrefix="<li>"),this.childSuffix||(this.childSuffix="<span class='divider'>/</span></li>"),this.addClass("breadcrumb")},template:strap.generateSimpleTemplate("ul"),render:function(e){var i=Breadcrumbs.__super__.render.call(this).split(this.childSuffix),t=i.pop();return i=i.join(this.childSuffix)+t,e&&this.id&&$("#"+this.id).html(i),i}},{klass:"Breadcrumbs"}),Link=Panel.extend({initialize:function(e){Link.__super__.initialize.call(this,e),this.setDefaultValue("#","href")},listAttributes:function(){return FormSelect.__super__.listAttributes.call(this,"href")},template:strap.generateSimpleTemplate("a")},{klass:"Link"}),Button=Link.extend({initialize:function(e){Button.__super__.initialize.call(this,e),_.isArray(this.attributes)?this.attributes.unshift("type='button'"):this.attributes.type="button",this.base="btn",Typify(this)}},{klass:"Button",types:["primary","secondary","info","success","warning","danger","inverse","link"]}),ButtonGroup=Panel.extend({initialize:function(e){ButtonGroup.__super__.initialize.call(this,e),this.addClass("btn-group")}},{klass:"ButtonGroup"}),ButtonToolbar=Panel.extend({initialize:function(e){ButtonToolbar.__super__.initialize.call(this,e),this.addClass("btn-toolbar")}},{klass:"ButtonToolbar"}),Carousel=Panel.extend({initialize:function(e){Carousel.__super__.initialize.call(this,e),this.setDefaultValue(!0,"controls"),this.setDefaultValue("&lsaquo;","prevSymbol"),this.setDefaultValue("&rsaquo;","nextSymbol"),this.addClass("carousel","slide")},template:_.template("<div <%= rootAttrs %>><% if(controls) { %><ol class='carousel-indicators'><% _(slides).times(function(i){ %><li data-slide-to='<%= i %>' data-target='#<%= rootID %>' <%= i == 0 ? \"classes='active'\" : '' %>></li><% }); %></ol><% } %><div class='carousel-inner'><%= yield %></div><% if(controls) { %><a class='carousel-control left' data-slide='prev' href='#<%= rootID %>'><%= prevSymbol %></a><a class='carousel-control right' data-slide='next' href='#<%= rootID %>'><%= nextSymbol %></a><% } %></div>"),renderChildren:function(){var e="";return _.each(this.children,function(i,t){i.addClass("item"),0===t&&i.addClass("active"),e+=i.render()}),e},renderHash:function(){return _.extend(Carousel.__super__.renderHash.call(this),{rootID:this.id,controls:this.controls,slides:this.children.length,prevSymbol:this.prevSymbol,nextSymbol:this.nextSymbol})}},{klass:"Carousel"}),CloseButton=Link.extend({initialize:function(e){CloseButton.__super__.initialize.call(this,e),this.addClass("close"),this.body||(this.body="&times;")}},{klass:"CloseButton"}),ContentRow=Panel.extend({initialize:function(e){ContentRow.__super__.initialize.call(this,e),this.setDefaultValue(12,"maxChildren"),this.ensureChildLimit(),this.addClass("row-fluid")},push:function(e){this.ensureChildLimit(),ContentRow.__super__.push.call(this,e)},unshift:function(e){this.ensureChildLimit(),ContentRow.__super__.unshift.call(this,e)},insert:function(e,i){this.ensureChildLimit(),ContentRow.__super__.insert.call(this,e,i)},renderChildren:function(){var e,i=this.childPrefix,t=this.childSuffix,n=this.maxChildren,s=this.children.length,a="";return _.each(this.children,function(e){n-=e.span||0,s-=isNaN(e.span)?0:1}),e=Math.floor(n/s),_.each(this.children,function(n){var s=i+n.render()+t;"Panel"!==n.klass||n.tag?0!==n.span&&(s="<div class='span"+(n.span||e)+"'>"+s+"</div>"):(0!==n.span&&n.addClass("span"+(n.span||e)),s=n.render(),0!==n.span&&n.removeClass("span"+(n.span||e))),a+=s}),a},ensureChildLimit:function(){if(this.children.length>=this.maxChildren)throw TooManyChildrenError("This row can only have "+this.maxChildren+" children")}},{klass:"ContentRow"}),List=Panel.extend({initialize:function(e){List.__super__.initialize.call(this,e),this.childPrefix||(this.childPrefix="<li>"),this.childSuffix||(this.childSuffix="</li>")},template:strap.generateSimpleTemplate("ul")},{klass:"List"}),DropdownMenu=List.extend({initialize:function(e){DropdownMenu.__super__.initialize.call(this,e),this.addClass("dropdown-menu")}},{klass:"DropdownMenu"}),Form=Panel.extend({initialize:function(e){Form.__super__.initialize.call(this,e),this.setDefaultValue("GET","method"),this.setDefaultValue("","action")},template:strap.generateSimpleTemplate("form"),listAttributes:function(){return FormSelect.__super__.listAttributes.call(this,"method","action")}},{klass:"Form"}),FormInput=Panel.extend({initialize:function(e){FormInput.__super__.initialize.call(this,e),this.setDefaultValue("","placeholder","name","value"),this.setDefaultValue("text","type"),this.base="input",Typify(this)},template:_.template("<input <%= rootAttrs %> />"),listAttributes:function(){return FormSelect.__super__.listAttributes.call(this,"type","placeholder","name","value")}},{klass:"FormInput",types:["button","checkbox","color","date","datetime","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"]}),FormLabel=Panel.extend({template:strap.generateSimpleTemplate("label")},{klass:"FormLabel"}),FormSelect=Panel.extend({template:strap.generateSimpleTemplate("select")},{klass:"FormSelect"}),Header=Panel.extend({initialize:function(e){Header.__super__.initialize.call(this,e),this.setDefaultValue(1,"level")},template:strap.generateSimpleTemplate("h<%= level %>"),renderHash:function(){return _.extend(Header.__super__.renderHash.call(this),{level:this.level})}},{klass:"Header"}),HeroUnit=Panel.extend({initialize:function(e){HeroUnit.__super__.initialize.call(this,e),this.setDefaultValue("","title"),this.addClass("hero-unit")},template:_.template("<div <%= rootAttrs %>><h1><%= title %></h1><%= yield %></div>"),renderHash:function(){return _.extend(HeroUnit.__super__.renderHash.call(this),{title:this.title})}},{klass:"HeroUnit"});HorizontalRule.prototype.render=function(){return"<hr/>"};var HR=HorizontalRule,Icon=Panel.extend({constructor:function(e,i){"string"==typeof e&&(e={type:e}),Icon.__super__.constructor.call(this,e,i)},initialize:function(e){Icon.__super__.initialize.call(this,e),this.base="icon",Typify(this)},template:_.template("<i <%= rootAttrs %>></i> <%= yield %>")},{klass:"Icon",types:["icon-adjust","icon-anchor","icon-archive","icon-asterisk","icon-ban-circle","icon-bar-chart","icon-barcode","icon-beaker","icon-beer","icon-bell","icon-bell-alt","icon-bolt","icon-book","icon-bookmark","icon-bookmark-empty","icon-briefcase","icon-bug","icon-building","icon-bullhorn","icon-bullseye","icon-calendar","icon-calendar-empty","icon-camera","icon-camera-retro","icon-certificate","icon-check","icon-check-empty","icon-check-minus","icon-check-sign","icon-circle","icon-circle-blank","icon-cloud","icon-cloud-download","icon-cloud-upload","icon-code","icon-code-fork","icon-coffee","icon-cog","icon-cogs","icon-collapse","icon-collapse-alt","icon-collapse-top","icon-comment","icon-comment-alt","icon-comments","icon-comments-alt","icon-compass","icon-credit-card","icon-crop","icon-dashboard","icon-desktop","icon-download","icon-download-alt","icon-edit","icon-edit-sign","icon-ellipsis-horizontal","icon-ellipsis-vertical","icon-envelope","icon-envelope-alt","icon-eraser","icon-exchange","icon-exclamation","icon-exclamation-sign","icon-expand","icon-expand-alt","icon-external-link","icon-external-link-sign","icon-eye-close","icon-eye-open","icon-facetime-video","icon-female","icon-fighter-jet","icon-film","icon-filter","icon-fire","icon-fire-extinguisher","icon-flag","icon-flag-alt","icon-flag-checkered","icon-folder-close","icon-folder-close-alt","icon-folder-open","icon-folder-open-alt","icon-food","icon-frown","icon-gamepad","icon-gear","icon-gears","icon-gift","icon-glass","icon-globe","icon-group","icon-hdd","icon-headphones","icon-heart","icon-heart-empty","icon-home","icon-inbox","icon-info","icon-info-sign","icon-key","icon-keyboard","icon-laptop","icon-leaf","icon-legal","icon-lemon","icon-level-down","icon-level-up","icon-lightbulb","icon-location-arrow","icon-lock","icon-magic","icon-magnet","icon-mail-forward","icon-mail-reply","icon-mail-reply-all","icon-male","icon-map-marker","icon-meh","icon-microphone","icon-microphone-off","icon-minus","icon-minus-sign","icon-minus-sign-alt","icon-mobile-phone","icon-money","icon-moon","icon-move","icon-music","icon-off","icon-ok","icon-ok-circle","icon-ok-sign","icon-pencil","icon-phone","icon-phone-sign","icon-picture","icon-plane","icon-plus","icon-plus-sign","icon-plus-sign-alt","icon-power-off","icon-print","icon-pushpin","icon-puzzle-piece","icon-qrcode","icon-question","icon-question-sign","icon-quote-left","icon-quote-right","icon-random","icon-refresh","icon-remove","icon-remove-circle","icon-remove-sign","icon-reorder","icon-reply","icon-reply-all","icon-resize-horizontal","icon-resize-vertical","icon-retweet","icon-road","icon-rocket","icon-rss","icon-rss-sign","icon-screenshot","icon-search","icon-share","icon-share-alt","icon-share-sign","icon-shield","icon-shopping-cart","icon-sign-blank","icon-signal","icon-signin","icon-signout","icon-sitemap","icon-smile","icon-sort","icon-sort-by-alphabet","icon-sort-by-alphabet-alt","icon-sort-by-attributes","icon-sort-by-attributes-alt","icon-sort-by-order","icon-sort-by-order-alt","icon-sort-down","icon-sort-up","icon-spinner","icon-star","icon-star-empty","icon-star-half","icon-star-half-empty","icon-star-half-full","icon-subscript","icon-suitcase","icon-sun","icon-superscript","icon-tablet","icon-tag","icon-tags","icon-tasks","icon-terminal","icon-thumbs-down","icon-thumbs-down-alt","icon-thumbs-up","icon-thumbs-up-alt","icon-ticket","icon-time","icon-tint","icon-trash","icon-trophy","icon-truck","icon-umbrella","icon-unchecked","icon-unlock","icon-unlock-alt","icon-upload","icon-upload-alt","icon-user","icon-volume-down","icon-volume-off","icon-volume-up","icon-warning-sign","icon-wrench","icon-zoom-in","icon-zoom-out","icon-bitcoin","icon-btc","icon-cny","icon-dollar","icon-eur","icon-euro","icon-gbp","icon-inr","icon-jpy","icon-krw","icon-renminbi","icon-rupee","icon-usd","icon-won","icon-yen","icon-align-center","icon-align-justify","icon-align-left","icon-align-right","icon-bold","icon-columns","icon-copy","icon-cut","icon-eraser","icon-file","icon-file-alt","icon-file-text","icon-file-text-alt","icon-font","icon-indent-left","icon-indent-right","icon-italic","icon-link","icon-list","icon-list-alt","icon-list-ol","icon-list-ul","icon-paper-clip","icon-paperclip","icon-paste","icon-repeat","icon-rotate-left","icon-rotate-right","icon-save","icon-strikethrough","icon-table","icon-text-height","icon-text-width","icon-th","icon-th-large","icon-th-list","icon-underline","icon-undo","icon-unlink","icon-angle-down","icon-angle-left","icon-angle-right","icon-angle-up","icon-arrow-down","icon-arrow-left","icon-arrow-right","icon-arrow-up","icon-caret-down","icon-caret-left","icon-caret-right","icon-caret-up","icon-chevron-down","icon-chevron-left","icon-chevron-right","icon-chevron-sign-down","icon-chevron-sign-left","icon-chevron-sign-right","icon-chevron-sign-up","icon-chevron-up","icon-circle-arrow-down","icon-circle-arrow-left","icon-circle-arrow-right","icon-circle-arrow-up","icon-double-angle-down","icon-double-angle-left","icon-double-angle-right","icon-double-angle-up","icon-hand-down","icon-hand-left","icon-hand-right","icon-hand-up","icon-long-arrow-down","icon-long-arrow-left","icon-long-arrow-right","icon-long-arrow-up","icon-backward","icon-eject","icon-fast-backward","icon-fast-forward","icon-forward","icon-fullscreen","icon-pause","icon-play","icon-play-circle","icon-play-sign","icon-resize-full","icon-resize-small","icon-step-backward","icon-step-forward","icon-stop","icon-youtube-play","icon-adn","icon-android","icon-apple","icon-bitbucket","icon-bitbucket-sign","icon-bitcoin","icon-btc","icon-css3","icon-dribbble","icon-dropbox","icon-facebook","icon-facebook-sign","icon-flickr","icon-foursquare","icon-github","icon-github-alt","icon-github-sign","icon-gittip","icon-google-plus","icon-google-plus-sign","icon-html5","icon-instagram","icon-linkedin","icon-linkedin-sign","icon-linux","icon-maxcdn","icon-pinterest","icon-pinterest-sign","icon-renren","icon-skype","icon-stackexchange","icon-trello","icon-tumblr","icon-tumblr-sign","icon-twitter","icon-twitter-sign","icon-vk","icon-weibo","icon-windows","icon-xing","icon-xing-sign","icon-youtube","icon-youtube-play","icon-youtube-sign","icon-ambulance","icon-h-sign","icon-hospital","icon-medkit","icon-plus-sign-alt","icon-stethoscope","icon-user-md"]}),Img=Panel.extend({initialize:function(e){Img.__super__.initialize.call(this,e),this.setDefaultValue(this.body,"src")},template:_.template("<img <%= rootAttrs %> />"),listAttributes:function(){return Img.__super__.listAttributes.call(this,"src")}},{klass:"Img"}),Label=AbstractBadge.extend({initialize:function(e){this.base="label",Label.__super__.initialize.call(this,e)}},{klass:"Label"}),Legend=Panel.extend({template:strap.generateSimpleTemplate("legend")},{klass:"Legend"});LineBreak.prototype.render=function(){return"<br/>"};var BR=LineBreak,Modal=Panel.extend({initialize:function(e){Modal.__super__.initialize.call(this,e),this.setDefaultValue([],"actions"),this.setDefaultValue("","header"),this.setDefaultValue(!1,"closable"),this.addClass("modal")},template:_.template("<div <%= rootAttrs %>><% if(closable || header) { %><div class='modal-header'><% if(closable) { %><button aria-hidden='true' class='close' data-dismiss='modal' type='button'>&times;</button><% } %><%= header %></div><% } %><div class='modal-body'><%= yield%></div><% if(actions) { %><div class='modal-footer'><%= actions %></div><% } %></div>"),pushAction:function(e){return this.actions.push(e),this},popAction:function(){return this.actions.pop()},shiftAction:function(){return this.actions.shift()},unshiftAction:function(e){return this.actions.unshift(e),this},renderActions:function(){var e="";return _.each(this.actions,function(i){e+=i.render()}),e},renderHash:function(){return _.extend(Modal.__super__.renderHash.call(this),{header:this.header.render?this.header.render():this.header,actions:this.renderActions(),closable:this.closable})}},{klass:"Modal"});Modal.prototype.addAction=Modal.prototype.pushAction;var Nav=List.extend({initialize:function(e){Nav.__super__.initialize.call(this,e),this.setDefaultValue(!1,"divided"),this.base="nav",Typify(this)},renderChildren:function(e,i){e||(e=this.childPrefix),i||(i=this.childSuffix);var t="";return _.each(this.children,function(n,s){s&&this.divided&&(t+="<li class='divider-vertical'></li>"),t+="li"===n.tag?n.render():(n.active?e.replace(/>$/," class='active'>"):e)+n.render()+i},this),t},divide:function(e){return e?this.divided=!0:e===!1&&(this.divided=!1),this.divided}},{klass:"Nav",types:["tabs","pills","list"]}),NavBar=Panel.extend({initialize:function(e){NavBar.__super__.initialize.call(this,e),this.addClass("navbar")},renderChildren:function(){return"<div class='navbar-inner'>"+NavBar.__super__.renderChildren.call(this)+"</div>"}},{klass:"NavBar"}),OptGroup=Panel.extend({initialize:function(e){OptGroup.__super__.initialize.call(this,e),this.setDefaultValue("","label")},template:strap.generateSimpleTemplate("optgroup"),listAttributes:function(){return FormSelect.__super__.listAttributes.call(this,"label")}},{klass:"OptGroup"}),PageHeader=Header.extend({initialize:function(e){PageHeader.__super__.initialize.call(this,e),this.setDefaultValue("","header"),this.addClass("page-header")},template:_.template("<div <%= rootAttrs %>><h<%= level %>><%= header %> <small><%= yield %></small></h<%= level %>></div>"),renderHash:function(){return _.extend(PageHeader.__super__.renderHash.call(this),{header:this.header,level:this.level})}},{klass:"PageHeader"}),Pagination=Panel.extend({initialize:function(e){if(this.children&&this.pages)throw new SyntaxError("Paginators cannot accept both children and pages");if(Pagination.__super__.initialize.call(this,e),this.setDefaultValue(1,"pages","currentPage"),this.setDefaultValue(1/0,"maxPages"),this.setDefaultValue(!0,"prevNext"),this.setDefaultValue(!1,"firstLast"),this.childPrefix="<li>",this.childSuffix="</li>",this.addClass("pagination"),0===this.children.length&&this.buildPages(),this.id){var i=this;$(function(){$("body").on("click","#"+i.id+" a",function(e){if(e.preventDefault(),!$(this).parent().is(".active, .disabled")){var t=$(this);switch(t.attr("class")){case"first":i.currentPage=1;break;case"prev":i.currentPage--;break;case"next":i.currentPage++;break;case"last":i.currentPage=i.pages;break;default:i.currentPage=parseInt(t.text(),10)}i.buildPages(),i.render(!0),i.onPage&&i.onPage.call(i,e,i.currentPage,this),$(i).trigger("page",[i.currentPage,this])}})})}$(this).on("after-render",function(e,i){var t=i.el();t.find("li").filter(function(){return $(this).find("a").text().match(i.currentPage)}).addClass("active"),1===i.currentPage?t.find(".first, .prev").parent().addClass("disabled"):i.currentPage===i.pages&&t.find(".last, .next").parent().addClass("disabled")})},renderChildren:function(){return"<ul>"+Pagination.__super__.renderChildren.call(this)+"</ul>"},setPages:function(e){this.pages=e,this.buildPages()},buildPages:function(){var e,i,t;this.children=[],this.pages>1?(e=Math.min(this.maxPages,this.pages),t=Math.floor(e/2),i=Math.max(this.currentPage-t,1),i=Math.min(i,this.pages-e+1),i=Math.floor(i),_.times(e,function(e){this.add(new Link(e+i+""))},this),this.pages>e&&(this.currentPage-t>1&&this.unshift(new Span("...")),this.pages-this.currentPage>t&&this.add(new Span("..."))),this.prevNext&&(this.unshift(new Link({classes:"prev",children:[new Icon({type:"angle-left"})]})),this.add(new Link({classes:"next",children:[new Icon({type:"angle-right"})]}))),this.firstLast&&(this.unshift(new Link({classes:"first",children:[new Icon({type:"double-angle-left"})]})),this.add(new Link({classes:"last",children:[new Icon({type:"double-angle-right"})]})))):console.warn("Paginator set to have less than 2 pages.  Pagination not will not display.")}},{klass:"Pagination"}),Paragraph=Panel.extend({template:strap.generateSimpleTemplate("p")},{klass:"Paragraph"}),P=Paragraph,ProgressBar=Panel.extend({initialize:function(e){ProgressBar.__super__.initialize.call(this,e),this.setDefaultValue(100,"width"),this.setWidth(this.width),this.base="bar",Typify(this)},setWidth:function(e){if(e>100)throw new RangeError("cannot set width greater than 100%");if(0>e)throw new RangeError("cannot set width less than 0%");var i=this.width;this.width=e,this.attributes=_.reject(this.attributes,function(e){return e.match(/style/i)}).concat(["style='width: "+e+"'"]),i!==e&&$(this).trigger("progressbar.width-change",e,i)}},{klass:"ProgressBar",types:["info","success","warning","danger"]});Raw.prototype.render=function(){return this.body};var SelectOption=Panel.extend({initialize:function(e){SelectOption.__super__.initialize.call(this,e),this.setDefaultValue(this.body,"value")},template:strap.generateSimpleTemplate("option"),listAttributes:function(){return FormSelect.__super__.listAttributes.call(this,"value")}},{klass:"SelectOption"}),Source=Panel.extend({initialize:function(e){Source.__super__.initialize.call(this,e),this.setDefaultValue("","src","parentID"),this.setDefaultValue({},"data"),"string"==typeof this.template&&(this.template=_.template(this.template))},template:function(){throw"Not Defined"},render:function(e){var i,t=this.data.call?this.data.call(this):this.data,n=this.body+this.renderChildren();return _.isArray(t)||(t=[t]),i=_.map(t,function(e,i){return this.template({yield:n,data:e,index:i,rootAttrs:this.listAttributes()})},this).join(""),e&&this.parentID&&$("#"+this.parentID).html(i).add(this).trigger("after-render",[this]),i}},{klass:"Source"}),Span=Panel.extend({template:strap.generateSimpleTemplate("span")},{klass:"Span"}),Table=Panel.extend({initialize:function(e){this.setDefaultValue([],"head","body","foot"),Table.__super__.initialize.call(this,e),this.addClass("table"),this.attributes.unshift("style='color: inherit'"),_.each(this.children,this.throwUnlessRow)},push:function(e){this.throwUnlessRow(e),Table.__super__.push.call(this,e)},unshift:function(e){this.throwUnlessRow(e),Table.__super__.unshift.call(this,e)},insert:function(e,i){this.throwUnlessRow(e),Table.__super__.insert.call(this,e,i)},throwUnlessRow:function(e){if(!(e instanceof TableRow||e instanceof Source||e.tag&&("thead"==e.tag||"tfoot"==e.tag||"tbody"==e.tag)))throw new TypeError("Invalid child type: "+e.klass+".  Must be either TableRow or Source.")},renderChildren:function(){return this.children.length||_.isString(this.body)?Table.__super__.renderChildren():new Component([strap({tag:"thead",children:this.head}),strap({tag:"tfoot",children:this.foot}),strap({tag:"tbody",children:this.body})]).render()},template:strap.generateSimpleTemplate("table")},{klass:"Table"});Table.prototype.add=Table.prototype.push;var TableCell=Panel.extend({template:strap.generateSimpleTemplate("td")},{klass:"TableCell"}),TableHeader=Panel.extend({template:strap.generateSimpleTemplate("th")},{klass:"TableHeader"}),TableRow=Panel.extend({initialize:function(e){TableRow.__super__.initialize.call(this,e),_.each(this.children,this.throwUnlessCell)},push:function(e){this.throwUnlessCell(e),TableRow.__super__.push.call(this,e)},unshift:function(e){this.throwUnlessCell(e),TableRow.__super__.unshift.call(this,e)},insert:function(e){this.throwUnlessCell(e),TableRow.__super__.insert.apply(this,arguments)},throwUnlessCell:function(e){if(!(e instanceof TableCell||e instanceof TableHeader))throw new TypeError("Rows can only have Cells as children")},template:strap.generateSimpleTemplate("tr")},{klass:"TableRow"});TableRow.prototype.add=TableRow.prototype.push;var Textarea=Panel.extend({initialize:function(e){Textarea.__super__.initialize.call(this,e),this.setDefaultValue("","placeholder")},template:strap.generateSimpleTemplate("textarea"),listAttributes:function(){return Textarea.__super__.listAttributes.call(this,"placeholder")}},{klass:"Textarea"}),Viewport=Component.extend({initialize:function(e){Viewport.__super__.initialize.call(this,e),this.setDefaultValue("body","root")},flush:function(){Viewport.__super__.flush.call(this),this.render()},el:function(){return $(this.root)},render:function(){return $(this.root).html(this.renderChildren()).add(this).trigger("after-render",[this])}},{klass:"Viewport"}),TooManyChildrenError=Extend(Error,{message:"Too many children.",name:"TooManyChildrenError"}),WebsocketConnectError=Extend(Error,{message:"Unable to connect via websocket.",name:"WebsocketConnectError"});