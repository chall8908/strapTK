%html{html_attrs}
  %head
    %link{rel: "stylesheet", href: "../dependencies/bootstrap/css/bootstrap.min.css"}
    %link{rel: "stylesheet", href: "../dependencies/bootstrap/css/bootstrap-repsponsive.min.css"}
    %link{rel: "stylesheet", href: "../dependencies/font-awesome/font-awesome.min.css"}
    %link{rel: "stylesheet", href: "testing.css"}
    %script{src: "../dependencies/lodash.min.js"}
    %script{src: "http://code.jquery.com/jquery-1.9.0.min.js"}
    %script{src: "../dependencies/bootstrap/js/bootstrap.min.js"}
    %script{src: "../strapTK.js"}
    // GET STRAP'D
    %script{src: "home.js"}
    %script{src: "api.js"}
    %script{src: "about.js"}
    :javascript
      var page = new Viewport({
        children: [
          new Panel({
            id: "header-wrapper",
            children: [
              new HeroUnit({
                id: "header",
                title: "Strap'd ToolKit",
                body: "An extensible framework for building HTML markup using Bootstrap, Font-Awesome, Lo-Dash, and jQuery.",
                children: [
                  new NavBar({
                    id: "header-nav",
                    children: [
                      new Panel({
                        id: "navbar-format",
                        children: [
                          new Link({
                            body: "Home",
                            id: "home-link",
                            classes: ["brand"],
                            href: "#home"
                          }),
                          new Nav({
                            divided: true,
                            id: "nav-tabs",
                            children: [
                              new Raw(""),
                              new Link({
                                body: "Get Strap'd",
                                id: "dl-link",
                                href: "../strapTK.min.js"
                              }),
                              new Link({
                                body: "API Docs",
                                id: "api-link",
                                href: "#api"
                              }),
                              new Link({
                                body: "About",
                                id: "about-link",
                                href: "#about"
                              }),
                              new Raw("")
                            ]
                          })
                        ]
                      })
                    ]
                  })
                ]
              })
            ]
          }),
          new Panel({
            id: "content-wrapper",
            classes: ["tab-content"],
            children: [
              new Panel({
                id: "home",
                classes: ["tab-pane", "fade", "in", "active"]
              }),
              new Panel({
                id: "api",
                classes: ["tab-pane", "fade", "in"]
              }),
              new Panel({
                id: "about",
                classes: ["tab-pane", "fade", "in"]
              })
            ]
          })
        ]
      });

      $(function() {
        page.render();
        home.render();
        api.render();
        about.render();

        $('#header-nav a').on("click", function(e) {
          e.preventDefault();
          $(this).tab("show");
          if($(this).is("#home-link")) {
            $("#nav-tabs .active").removeClass("active");
          }
        });
      });

  %body